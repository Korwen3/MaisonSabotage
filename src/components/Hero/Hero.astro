---
import brush from "../../assets/images/banner2.jpg";
import backgroundImg from "../../assets/images/hero.jpg";

const backgroundImgUrl = `url(${backgroundImg.src})`;
const brushImgUrl = `url(${brush.src})`;

import sixpiedssousterre from "../../assets/images/artistes/6piedssousterre.jpg";
import alexa from "../../assets/images/artistes/alexa.jpg";
import aruma from "../../assets/images/artistes/aruma.jpg";
import billiegenderfuck from "../../assets/images/artistes/billiegenderfuck.jpg";
import chimere from "../../assets/images/artistes/chimere.jpg";
import magicaltchoin from "../../assets/images/artistes/magicaltchoin.jpg";
import nyx from "../../assets/images/artistes/nyx.jpg";
import shaunofthedrag from "../../assets/images/artistes/shaunofthedrag.jpg";
import vanite from "../../assets/images/artistes/vanite.jpg";

const artisteImgs = [
    {
        src: sixpiedssousterre.src,
        alt: "sixpiedssousterre",
    },
    {
        src: alexa.src,
        alt: "alexa",
    },
    {
        src: aruma.src,
        alt: "aruma",
    },
    {
        src: billiegenderfuck.src,
        alt: "billiegenderfuck",
    },
    {
        src: chimere.src,
        alt: "chimere",
    },
    {
        src: magicaltchoin.src,
        alt: "magicaltchoin",
    },
    {
        src: nyx.src,
        alt: "nyx",
    },
    {
        src: shaunofthedrag.src,
        alt: "shaunofthedrag",
    },
    {
        src: vanite.src,
        alt: "vanite",
    },
];
---

<section>
    <div class="banner">
        <div class="slider" style="--quantity: 9">
            {
                artisteImgs.map((artiste, index) => (
                    <div class="item" style={`--position:${index}`}>
                        <img src={artiste.src} alt={artiste.alt} />
                    </div>
                ))
            }
        </div>
    </div>
</section>

<style>
    section {
        .banner {
            width: 100%;
            height: 100vh;
            text-align: center;
            overflow: hidden;
            position: relative;
        }
        .banner .slider {
            position: absolute;
            width: 50svw;
            height: 75svh;
            top: 25%;
            left: calc(50% - 200px);
            transform-style: preserve-3d;
            transform: perspective(1000px);
            z-index: 2;
        }

        .banner .slider .item {
            position: absolute;
            inset: 0 0 0 0;
            transform: rotateY(
                    calc(180deg + (var(--position) - 1) * (360 / var(--quantity)) * 1deg)
                )
                translateZ(950px);
        }
        .banner .slider .item img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
    }

    @keyframes autoRun {
        from {
            transform: perspective(2500px) rotateX(0) rotateY(0deg);
        }
        to {
            transform: perspective(2500px) rotateX(0) rotateY(360deg);
        }
    }
</style>

<!-- <section>
    <h2>Sublime - Macabre - Merveilleux</h2>
</section>

<style define:vars={{ backgroundImgUrl, brushImgUrl }}>
    section {
        position: relative;
        overflow: hidden;
        height: 100svh;

        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: 1fr;

        background: radial-gradient(
            50% 50% at 50% 50%,
            rgb(63, 5, 5) 0%,
            rgb(0, 0, 0) 100%
        );

        &::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: var(--backgroundImgUrl);
            background-size: cover;
            background-attachment: fixed;
            filter: saturate(0.3) contrast(1.5) brightness(1.2) grayscale(0.2);

            z-index: 0;
            mask-image: var(--brushImgUrl);
            mask-repeat: no-repeat;
            mask-size: contain;
            mask-position: center center;
        }

        h2 {
            justify-self: flex-end;
            align-self: flex-end;
            padding: 3rem;

            font-family: "Yataghan", sans-serif;
            color: var(--primary-300);
            font-size: 2.3rem;
            line-height: 4rem;
        }
    }
</style> -->
